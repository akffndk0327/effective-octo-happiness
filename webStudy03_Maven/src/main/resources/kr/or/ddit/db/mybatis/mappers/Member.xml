<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.or.ddit.member.dao.IMemberDAO">
	<insert id="insertMember" parameterType="MemberVO">
<!-- 		 <selectKey> -->
<!-- 		  //pk 생성 실행 쿼리 -->
<!-- 		 </selectKey> -->
		 
		 INSERT INTO MEMBER (  
		     MEM_ID,    MEM_PASS,    MEM_NAME,    MEM_REGNO1,    
		     MEM_REGNO2,    MEM_BIR,    MEM_ZIP,    MEM_ADD1,    
		     MEM_ADD2,    MEM_HOMETEL,    MEM_COMTEL,    MEM_HP, 
		     MEM_MAIL,    MEM_JOB,    MEM_LIKE,    MEM_MEMORIAL, 
		     MEM_MEMORIALDAY,    MEM_MILEAGE     
		 ) VALUES (                                              
		 	 #{mem_id},    #{mem_pass},    #{mem_name},    #{mem_regno1},    
		     #{mem_regno2},    #{mem_bir},    #{mem_zip},    #{mem_add1},    
		     #{mem_add2},    #{mem_hometel},    #{mem_comtel},    #{mem_hp}, 
		     #{mem_mail},    #{mem_job},    #{mem_like},    #{mem_memorial}, 
		     #{mem_memorialday},    2000                             
		 )                                                       
	</insert>
	<select id="selectMemeberList" resultType="MemberVO">
		 SELECT MEM_ID, MEM_NAME, MEM_HP, MEM_MAIL, MEM_ADD1, MEM_MILEAGE
		 FROM MEMBER 
	</select>
	<select id="selectMember" parameterType="MemberVO" resultType="MemberVO">
		 SELECT                                                                        
		    mem_id,    mem_pass,    mem_name,                                          
		    mem_regno1,    mem_regno2,    to_char(mem_bir,'yyyy-MM-dd') mem_bir,       
		    mem_zip,    mem_add1,    mem_add2,                                         
		    mem_hometel,    mem_comtel,    mem_hp,                                     
		    mem_mail,    mem_job,    mem_like,                                         
		    mem_memorial,                                                              
		    to_char(mem_memorialday,'yyyy-MM-dd') mem_memorialday,    mem_mileage,      
		    mem_delete                                                                 
		 FROM    MEMBER                                                                
		 WHERE MEM_ID = #{mem_id}  and MEM_DELETE IS NULL         
	</select>
	
	<update id="updateMember" parameterType="MemberVO">
		 UPDATE MEMBER SET   
	      MEM_NAME= #{mem_name}     
	      MEM_ZIP= #{mem_zip}        
	      MEM_ADD1= #{mem_add1}       
	      MEM_ADD2= #{mem_add2}       
	      MEM_HOMETEL=#{mem_hometel}    
	      MEM_COMTEL= #{mem_comtel}     
	      MEM_HP= #{mem_hp}         
	      MEM_MAIL=#{mem_mail}       
	      MEM_JOB= #{mem_job}        
	      MEM_LIKE= #{mem_like}      
	      MEM_MEMORIAL= #{MEM_MEMORIAL},   
	      MEM_MEMORIALDAY=#{MEM_MEMORIALDAY} 
	      WHERE MEM_ID=#{mem_id} 
	</update>
	<delete id="deleteMember" parameterType="MemberVO">
		UPDATE MEMBER
		SET
		MEM_DELETE = 'Y'
		WHERE MEM_ID= #{mem_id}
	</delete>
</mapper>
